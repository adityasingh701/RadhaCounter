<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>Radhe Counter</title>
<link rel="manifest" href="manifest.json">

<style>
body{
    background:black;
    color:white;
    font-family:Arial;
    margin:0;
    overflow:hidden;
    text-align:center;
}

/* Radhe rotating background */
.bg{
    position:fixed;
    inset:0;
    display:flex;
    justify-content:center;
    align-items:center;
    z-index:0;
}
.bg span{
    position:absolute;
    color:#222;
    font-size:28px;
    animation:spin 20s linear infinite;
}
@keyframes spin{
    from{transform:rotate(0deg) translate(220px) rotate(0deg);}
    to{transform:rotate(360deg) translate(220px) rotate(-360deg);}
}

/* Main UI */
.wrapper{
    position:relative;
    z-index:2;
    margin-top:60px;
}

/* 3D Ring */
.circle{
    width:320px;
    height:320px;
    border-radius:50%;
    background:radial-gradient(#111,#000);
    margin:auto;
    position:relative;
    perspective:800px;
    box-shadow:0 0 40px rgba(255,255,255,.2);
}
.progress{
    position:absolute;
    inset:10px;
    border-radius:50%;
    border:14px solid white;
    transform:rotateX(25deg) rotate(0deg);
    box-shadow:0 0 20px rgba(255,255,255,.7);
}
.center{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    font-size:34px;
    font-weight:bold;
}

button{
    margin-top:30px;
    padding:12px 40px;
    font-size:18px;
    border:none;
    border-radius:6px;
    cursor:pointer;
}

.stats{
    margin-top:30px;
    font-size:18px;
}
</style>
</head>

<body>

<div class="bg">
    <span>Developed By Aditya Singh</span>
</div>

<div class="wrapper">

<div style="margin-bottom:15px;font-size:18px">
ðŸ”¥ Streak: <span id="streak">0</span> Days
</div>

<div class="circle">
    <div class="progress" id="progress"></div>
    <div class="center" id="count">0 / 108</div>
</div>

<button onclick="toggle()">Play / Pause</button>

<div class="stats">
    <p>Today Count: <span id="today">0</span></p>
    <p>Lifetime Count: <span id="life">0</span></p>
</div>

</div>

<audio id="sound" src="mantra.mp3"></audio>

<script>
let count=0;
let running=false;
let timer;

/* Date & streak */
let todayKey=new Date().toDateString();
let lastDay=localStorage.getItem("lastDay");
let streak=Number(localStorage.getItem("streak"))||0;

if(lastDay!==todayKey){
    if(lastDay){
        let diff=(new Date(todayKey)-new Date(lastDay))/86400000;
        if(diff===1) streak++;
        else streak=1;
    }else streak=1;

    localStorage.setItem("streak",streak);
    localStorage.setItem("lastDay",todayKey);
}
document.getElementById("streak").innerText=streak;

/* Counts */
let today=Number(localStorage.getItem(todayKey))||0;
let life=Number(localStorage.getItem("lifetime"))||0;
document.getElementById("today").innerText=today;
document.getElementById("life").innerText=life;

function toggle(){
    if(running){
        clearInterval(timer);
        running=false;
    }else{
        running=true;
        timer=setInterval(run,900);
    }
}

function run(){
    if(count>=108){
        clearInterval(timer);
        running=false;
        return;
    }

    count++;
    today++;
    life++;

    localStorage.setItem(todayKey,today);
    localStorage.setItem("lifetime",life);

    document.getElementById("count").innerText=count+" / 108";
    document.getElementById("today").innerText=today;
    document.getElementById("life").innerText=life;

    let angle=(count/108)*360;
    document.getElementById("progress").style.transform=
    "rotateX(25deg) rotate("+angle+"deg)";

    let s=document.getElementById("sound");
    s.currentTime=0;
    s.play();
}
</script>
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyC2HZKs_oD7XpnkmGCJbDDKLUHkwCY3AIs",
    authDomain: "radha-counter-ss.firebaseapp.com",
    projectId: "radha-counter-ss",
    storageBucket: "radha-counter-ss.firebasestorage.app",
    messagingSenderId: "709477581053",
    appId: "1:709477581053:web:b0d475e30319a4afc0be94",
    measurementId: "G-6TF0HSPXE5"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>
</body>
</html>

